
@model Chinmaya.Registration.Models.MyAccountModel

@{
	Layout = "~/Views/Shared/_Layout.cshtml";
	ViewBag.Title = "MyAccount";
}

@*<h2>MyAccount</h2>*@
<html>
<head>
	<style>
		.requiredA:after {
			content: " *";
			font-weight: bold;
			color: red;
		}
		.field-validation-error {
			color: red;
		}
	</style>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">
	<title>Welcome to Chinmaya Mission</title>
	<!-- Latest compiled and minified CSS -->
	<link href="~/Content/bootstrap.min.css" rel="stylesheet">

	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
	<link href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" rel="stylesheet" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	<!-- Custom CSS -->
	<link href="~/Content/custom-styles.css" rel="stylesheet" type="text/css">
	<!-- Jquery -->
	<script src="~/Scripts/jquery-3.3.1.js"></script>
	<script src="~/Scripts/popper.min.js"></script>
	<!-- Latest compiled and minified JavaScript -->
	<script src="~/Scripts/bootstrap.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
</head>
@*<body class="theme_bg">*@
<body>
	@*<header>
			<div class="header_top">
				<a class="navbar-brand" href="#"><img alt="mainlogo" src="~/Content/img/dashboard-logo.png"></a>
				<div class="header-right">
					<input name="search" class="search-field" type="text" placeholder="Search..">
					<select class="drpdown">
						<option>Our Other Sites</option>
					</select>
					<a class="fab fa-facebook-f" href="#"></a>
					<a class="fab fa-twitter" href="#"></a>
					<a class="fab fa-google-plus-g" href="#"></a>
					<a class="fab fa-linkedin-in" href="#"></a>
					<a class="fas fa-plus" href="#"></a>
				</div>
			</div>
			<div class="header_nav">
				<nav class="navbar navbar-expand-lg navbar-light">
					<button class="navbar-toggler" aria-expanded="false" aria-controls="navbarSupportedContent" aria-label="Toggle navigation" type="button" data-target="#navbarSupportedContent" data-toggle="collapse"> <span class="navbar-toggler-icon"></span> </button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav mr-auto">
							<li class="nav-item active"> <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a> </li>
							<li class="nav-item"> <a class="nav-link" href="#">About Us</a> </li>
							<li class="nav-item"> <a class="nav-link" href="#">Donate</a> </li>
							<li class="nav-item"> @Html.ActionLink("Program/Event Registration", "ProgramEventRegistration", "Account", new { @class = "nav-link" }) </li>
							<li class="nav-item"> <a class="nav-link" href="#">Current Events</a> </li>
							<li class="nav-item"> <a class="nav-link" href="#">Contact Us</a> </li>
						</ul>
						<div class="form-inline my-2 my-lg-0">
							<span class="navbar-text">Welcome, @ViewBag.Name</span>
							<span class="navbar-text">Welcome, @User.Identity.GetUserName()</span>
							<ul class="navbar-nav mr-auto">
								<li class="nav-item"> <a class="nav-link" href="#">My Account</a> </li>
								<li class="nav-item"> <a class="nav-link" href="#">Sign Out</a> </li>
							</ul>
							<a href="#"><img src="~/Content/img/cart-icon.png"> <span class="cart-count">2</span></a>
						</div>
					</div>
				</nav>
			</div>
		</header>*@

	<button class="navbar-toggler aside-toggle" aria-expanded="false" aria-controls="menu-content" aria-label="Toggle navigation" type="button" data-target="#menu-content" data-toggle="collapse"> <span class="navbar-toggler-icon"></span> </button>
	<div class="nav-side-menu">

		<div class="menu-list">

			<ul class="menu-content collapse out" id="menu-content">
				<li class="collapsed" aria-expanded="false" data-target="#account" data-toggle="collapse">
					<a href="#"> Account Settings <span class="arrow"></span></a>
				</li>

				<ul class="sub-menu collapse" id="account">
					<li><a href="#"><img alt="" src="~/Content/img/change-password.png"> Change Password</a></li>
					<li class="active"><a href="#"><img alt="" src="~/Content/img/update-family-info-active.png"> Update Family Info</a></li>
				</ul>

				<li class="collapsed" aria-expanded="false" data-target="#contact" data-toggle="collapse">
					<a href="#"> Update Contact Info <span class="arrow"></span></a>
				</li>
				<ul class="sub-menu collapse" id="contact">
					<li><a href="#"><img alt="" src="~/Content/img/phone.png"> Phone</a></li>
					<li><a href="#"><img alt="" src="~/Content/img/email.png"> Email</a></li>
					<li><a href="#"><img alt="" src="~/Content/img/address.png"> Address</a></li>
				</ul>

				<li class="collapsed" aria-expanded="false" data-target="#payment" data-toggle="collapse">
					<a href="#"> Payment Details <span class="arrow"></span></a>
				</li>
				<ul class="sub-menu collapse" id="payment">
					<li><a href="#"><img alt="" src="~/Content/img/past-transations.png"> Past Transactions</a></li>
					<li><a href="#"><img alt="" src="~/Content/img/print-tax.png"> Print Tax Receipts</a></li>
				</ul>

				<li>
					<a href="#">
						Badri Directory
					</a>
				</li>
			</ul>
		</div>
	</div>
	<div class="bd-content">
		<h3 class="bd-title">My Account</h3>
		<div class="inner-box">
			<div class="row mb-3">
				<div class="col-md-6 table-title">Family Information</div>
				@if (!Model.IsIndividual)
				{
			<div class="col-md-6 text-right">
				@*@Html.ActionLink("Add Family Member ", "AddFamilyMemberPartial", "Account", null, new { @class = "orange-links" })*@

				<a class="orange-links" id="#AddFamilyMember" href="#" data-target="#exampleModalCenter" data-toggle="modal"><i class="material-icons">add_circle_outline</i> Add Family Member</a>
			</div>
				}
			<div class="modal fade" id="FamilyMemberPartial" role="dialog"></div>
			</div>
			<div class="row">
				<div class="col-md-12 table-responsive">
					<table class="table table-hover">
						<thead>
							<tr>
								<th scope="col">Name</th>
								<th scope="col">Date of Birth</th>
								<th scope="col">Relationship</th>
								<th scope="col">
									Grade
									@*<span data-toggle="tooltip" title="Grade in school (fall of current year)", data-placement="right"><img rel="tooltip" title="" alt="" src="~/Content/img/info-icon.png" /></span>*@
									<img src="~/Content/img/info-icon.png" alt="" title="Grade in school (fall of current year)" />

									@*<img title="" alt="" src="~/Content/img/info-icon.png" data-original-title="Grade in school (fall of current year)" data-toggle="tooltip" data-placement="right" />*@
								</th>
								<th scope="col"></th>
							</tr>
						</thead>
						<tbody>

							@foreach (var m in Model.userFamilyMember)
							{
								<tr>
									<td>@(m.FirstName + " " + m.LastName)</td>
									<td>@(m.DOB.ToString("MMM dd, yyyy"))</td>
									<td>@m.Relationship</td>
									<td>@m.Grade</td>
									@*<td>@Html.ActionLink("Edit", "Edit", new { @class = "label label-orange", id = familyMember.Id })</td>*@
									<td><a href="@Url.Action("Edit","Account", new { id = m.Id })"><span class="label label-orange">Edit</span></a></td>
								</tr>
							}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<!-- Modal -->
	<div tabindex="-1" class="modal fade bd-example-modal-lg" id="exampleModalCenter" role="dialog" aria-hidden="true" aria-labelledby="exampleModalCenterTitle" style="display: none;">

		@using (Html.BeginForm("AddFamilyMember", "Account", FormMethod.Post))

		{
			@Html.AntiForgeryToken()
			<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-body">
						<h5 class="modal-title">Add Family Member</h5>

						@Html.ValidationSummary(true)
						
						<div class="row">
							<div class="col-md-6">
								@*<label class="requiredA">First Name</label>
								<input class="form-control" type="text" placeholder="">*@
								@Html.LabelFor(m => m.familyMemberModel.FirstName, new { @class = "requiredA" })
									@Html.TextBoxFor(m => m.familyMemberModel.FirstName, new { @class = "form-control", @Name = "FirstName" })
									@Html.ValidationMessageFor(m => m.familyMemberModel.FirstName)
							</div>
							<div class="col-md-6">
								@*<label class="requiredA">Last Name</label>
								<input class="form-control" type="text" placeholder="">*@
								@Html.LabelFor(m => m.familyMemberModel.LastName, new { @class = "requiredA" })
									@Html.TextBoxFor(m => m.familyMemberModel.LastName, new { @class = "form-control", @Name = "LastName" })
									@Html.ValidationMessageFor(m => m.familyMemberModel.LastName)
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								@*<label class="requiredA">Date of Birth</label>
								<input class="form-control" type="text" placeholder="">*@
								@Html.LabelFor(m => m.familyMemberModel.DOB, new { @class = "requiredA" })
									@Html.TextBoxFor(m => m.familyMemberModel.DOB, "{0:MMM d, yyyy}", new { @class = "form-control", @type = "date", @Name = "DOB" })
									@Html.ValidationMessageFor(m => m.familyMemberModel.DOB)
							</div>
							<div class="col-md-6">
								@*<label class="requiredA">Relationship</label>
								<select class="form-control" id="RelationshipSelect">
									<option>Select</option>
									@foreach(var item in ViewBag.Relationship)
									{
											 <option value="@item.Id">@item.Name</option>
									}
									</select>*@
									
								@Html.LabelFor(m => m.familyMemberModel.RelationshipData, new { @class = "requiredA" })
									@Html.DropDownList("RelationshipData", new SelectList(Model.relationships, "Id", "Name"), "Select", new { @class = "form-control" })
									@Html.ValidationMessageFor(m => m.familyMemberModel.RelationshipData)
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<label>
									Grade
									<img src="~/Content/img/info-icon.png" alt="" title="Grade in school (fall of current year)" />
									@*<img rel="tooltip" title="" alt="" src="~/Content/img/info-icon.png" data-original-title="Grade in school (fall of current year)" data-toggle="tooltip" data-placement="right" />*@
									@*<img title="" alt="" src="~/Content/img/info-icon.png" data-original-title="Grade in school (fall of current year)" data-toggle="tooltip" data-placement="right">*@
								</label>
								@*<select class="form-control" id="GradeSelect">
									<option>Select</option>
									@foreach (var item in ViewBag.Grade)
									{
											<option value="@item.Id">@item.Name</option>
									}
								</select>*@
								@*@Html.LabelFor(m => item.Grade)< img title = "" alt = "" src = "~/Content/img/info-icon.png" data - original - title = "Grade in school (fall of current year)" data - toggle = "tooltip" data - placement = "right" >*@
								@Html.DropDownList("Grade", new SelectList(Model.grades, "Id", "Name"), "Select", new { @class = "form-control" })
								@Html.ValidationMessageFor(m => m.familyMemberModel.Grade)
							</div>
							<div class="col-md-6">
								@*<label>Gender</label>
								<select class="form-control">
									<option>Select</option>
									@foreach (var item in ViewBag.Gender)
									{
								<option value="@item.Id">@item.Name</option>
									}
								</select>*@
								@Html.LabelFor(m => m.familyMemberModel.GenderData)
									@Html.DropDownList("GenderData", new SelectList(Model.genders, "Id", "Name"), "Select", new { @class = "form-control" })
									@Html.ValidationMessageFor(m => m.familyMemberModel.GenderData)
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								@*<label>Cell Phone</label>
								<input class="form-control" type="text" placeholder="">*@
								@Html.LabelFor(m => m.familyMemberModel.CellPhone)
									@Html.TextBoxFor(m => m.familyMemberModel.CellPhone, new { @class = "form-control", @Name = "CellPhone" })
									@Html.ValidationMessageFor(m => m.familyMemberModel.CellPhone)
							</div>
							<div class="col-md-6">
								@*<label>Email Address</label>
								<input class="form-control" type="email" placeholder="">*@
								@Html.LabelFor(m => m.familyMemberModel.Email)
									@Html.TextBoxFor(m => m.familyMemberModel.Email, new { @class = "form-control", @Name = "Email" })
									@Html.ValidationMessageFor(m => m.familyMemberModel.Email)
							</div>
						</div>
						
						<div class="row">
							<div class="col-md-12">
								<button class="btn btn-secondary float-left mr-3" id="#btnCancel " type="submit" data-dismiss="modal" name="prevBtn">Cancel <i class="material-icons">cancel</i></button>
								<button class="btn btn-orange" id="#btnsubmit" type="submit" data-target="#demo" data-toggle="collapse" name="nextBtn">Submit <i class="material-icons">check_circle</i></button>
							</div>
						</div>
					</div>
				</div>
			</div>
		}
	</div>


	<script>

		$(document).ready(function () {
			$('[data-toggle="tooltip"]').tooltip({ position: 'right' });
		});

		$(function () {
			$('[data-toggle="tooltip"]').tooltip();
			$("form")[0].reset();
			$('#exampleModalCenter').find('input:text, input:password, select, textarea').val('');
			$('#exampleModalCenter').find('input:radio, input:checkbox').prop('checked', false);
			$('#exampleModalCenter').find('input#DOB').val("");
			$(this).removeData('bs.modal');
		})

		$("#exampleModalCenter").on("hidden.bs.modal", function () {
			$('[data-toggle="tooltip"]').tooltip();
			$('#exampleModalCenter').find('input:text, input:password, select, textarea').val('');
			$('#exampleModalCenter').find('input:radio, input:checkbox').prop('checked', false);
			$('#exampleModalCenter').find('input#DOB').val("");
			$(this).removeData('bs.modal');
		});
	</script>
</body>
</html>

